<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Capa Gráfica del Mapa</title>

    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.34/esri/themes/light/main.css"
    />
    <script src="https://js.arcgis.com/4.34/"></script>

    <style>
      html,
      body,
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
      }
    </style>

    <script>
      // Se cargan los módulos necesarios
      require([
        "esri/Map",
        "esri/views/MapView",
        "esri/Graphic",
        "esri/layers/GraphicsLayer",
      ], function (Map, MapView, Graphic, GraphicsLayer) {
        // Se crea el mapa
        const map = new Map({
          basemap: "topo-vector",
        });

        // Se crea la vista
        const view = new MapView({
          container: "viewDiv",
          map: map,
          center: [-118.805, 34.027], // Lon, Lat
          zoom: 13,
        });

        // ------------------------------
        // Punto
        // ------------------------------
        const point = {
          type: "point",
          longitude: -118.80657463861,
          latitude: 34.0005930608889,
        };

        const simpleMarkerSymbol = {
          type: "simple-marker",
          color: [226, 119, 40],
          outline: {
            color: [255, 255, 255],
            width: 1,
          },
        };

        const pointGraphic = new Graphic({
          geometry: point,
          symbol: simpleMarkerSymbol,
          attributes: { Name: "Punto de ejemplo" },
          popupTemplate: { title: "{Name}" },
        });

        // ------------------------------
        // Polilínea
        // ------------------------------
        const polyline = {
          type: "polyline",
          paths: [
            [-118.821527826096, 34.0139576938577],
            [-118.814893761649, 34.0080602407843],
            [-118.808878330345, 34.0016642996246],
          ],
        };

        const simpleLineSymbol = {
          type: "simple-line",
          color: [226, 119, 40],
          width: 2,
        };

        const polylineGraphic = new Graphic({
          geometry: polyline,
          symbol: simpleLineSymbol,
          attributes: { Name: "Polilínea de ejemplo" },
          popupTemplate: { title: "{Name}" },
        });

        // ------------------------------
        // Polígono
        // ------------------------------
        const polygon = {
          type: "polygon",
          rings: [
            [-118.818984489994, 34.0137559967283],
            [-118.806796597377, 34.0215816298725],
            [-118.791432890735, 34.0163883241613],
            [-118.79596686535, 34.008564864635],
            [-118.808558110679, 34.0035027131376],
          ],
        };

        const simpleFillSymbol = {
          type: "simple-fill",
          color: [227, 139, 79, 0.8],
          outline: {
            color: [255, 255, 255],
            width: 1,
          },
        };

        const polygonGraphic = new Graphic({
          geometry: polygon,
          symbol: simpleFillSymbol,
          attributes: { Name: "Polígono de ejemplo" },
          popupTemplate: { title: "{Name}" },
        });

        // ------------------------------
        // Capa gráfica
        // ------------------------------
        const graphicsLayer = new GraphicsLayer();

        // Se añaden los gráficos a la capa gráfica
        graphicsLayer.addMany([pointGraphic, polylineGraphic, polygonGraphic]);

        // Se añade la capa gráfica al mapa
        map.add(graphicsLayer);
      });
    </script>
  </head>

  <body>
    <div id="viewDiv"></div>
  </body>
</html>
